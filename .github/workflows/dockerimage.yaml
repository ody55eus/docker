name: Docker image

on: [push]

jobs:

  build-trajectory:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Build the trajectory Docker image
      run: |
       docker build . --file trajectory-recognition/Dockerfile --tag trajectory-recognition:$(date +%s)
       docker tag trajectory-recognition:$(date +%s) ody55eus/trajectory-recognition:$(date +%s)
       docker push ody55eus/trajectory-recognition:$(date +%s)


  build-evaluate:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Build the evaluate Docker image
      run: |
       docker build . --file evaluate/Dockerfile --tag evaluate:$(date +%s)
       docker tag evaluate:$(date +%s) ody55eus/evaluate:$(date +%s)
       docker push ody55eus/evaluate:$(date +%s)
